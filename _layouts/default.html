<!DOCTYPE html>
<html lang="fr">
{% include head.html %}
<body>
  {% include nav.html %}

  <main class="main-content">
    <div class="container">
      {{ content }}
    </div>
  </main>

  {% include footer.html %}

  <script>
    // Dark mode toggle functionality
    const themeToggle = document.querySelector('.theme-toggle');
    const body = document.body;
    const themeColorMeta = document.getElementById('theme-color-meta');

    // Theme colors for browser toolbar
    const THEME_COLORS = {
      light: '#FFFFF6',
      dark: '#1a1a2e'
    };

    // Update browser theme-color meta tag
    function updateThemeColor(theme) {
      if (themeColorMeta) {
        themeColorMeta.setAttribute('content', THEME_COLORS[theme]);
      }
    }

    // Check for saved theme preference or default to light mode
    const currentTheme = localStorage.getItem('theme') || 'light';
    if (currentTheme === 'dark') {
      body.classList.add('dark-mode');
      if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light';
    }
    updateThemeColor(currentTheme);

    // Theme toggle click handler
    if (themeToggle) {
      themeToggle.addEventListener('click', () => {
        body.classList.toggle('dark-mode');

        let theme = 'light';
        if (body.classList.contains('dark-mode')) {
          theme = 'dark';
          themeToggle.textContent = '‚òÄÔ∏è Light';
        } else {
          themeToggle.textContent = 'üåô Dark';
        }
        localStorage.setItem('theme', theme);
        updateThemeColor(theme);
      });
    }
  </script>
  <script src="{{ '/assets/js/pyodide-runner.js' | relative_url }}" defer></script>
</body>
</html>